{"version":3,"sources":["components/sidebar/subcomponents/SidebarButton.js","icons/icons.js","components/sidebar/Sidebar.js","components/header/Header.js","libs/config.js","pages/Search.js","libs/debounce.js","components/player/Player.js","App.js","reportWebVitals.js","index.js"],"names":["SidebarButton","props","to","className","active","icon","children","icons","faSearch","faCompactDisc","Sidebar","location","useLocation","id","pathname","library","search","Header","BACKEND_URL","ytRegex","Search","useState","query","setQuery","results","setResults","showDialog","setShowDialog","youtubeSearch","setYoutubeSearch","ytSearchResults","setYtSearchResults","status","setStatus","debouncedOnChange","useCallback","func","wait","immediate","timeout","context","this","args","arguments","later","apply","callNow","clearTimeout","setTimeout","debounce","doSearch","q","a","bar","random","axios","get","params","response","data","hasOwnProperty","console","error","doYoutubeSearch","matches","match","url","toFetchFrom","ci","setInterval","symbol","faSpinner","statusText","spin","state","faExclamationTriangle","clearInterval","faUserClock","position","faCheck","log","useEffect","value","onChange","e","target","map","song","onClick","setPlaying","style","backgroundImage","iconUrl","faPlay","title","all_artists","replace","_id","faYoutube","video","thumbnails","high","faDownload","channelTitle","getRandom","Player","length","setLength","setPosition","playing","loop","setLoop","shuffle","setShuffle","setRandom","rap","getShuffle","next","Math","floor","document","navigator","mediaSession","metadata","window","MediaMetadata","artist","split","join","artwork","src","ignored","setActionHandler","getTime","seconds","secondsActual","toFixed","padStart","audioUrl","ref","autoPlay","listenInterval","onListen","onSeeked","currentTime","onLoadedMetadata","duration","onPause","onPlay","onError","onEnded","faRandom","canSkipBackward","skipBackward","faStepBackward","audioEl","current","paused","play","pause","faPause","faStepForward","faRedoAlt","width","App","playingHistory","setPlayingHistory","setPlayingState","pop","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d37f54ad.chunk.js","sourcesContent":["import React from \"react\";\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport {Link} from \"react-router-dom\";\n\n\nfunction SidebarButton(props) {\n    return <Link to={props.to}><button className={props.active ? \"active\" : null}><FontAwesomeIcon icon={props.icon} /><span>{props.children}</span></button></Link>;\n}\n\nexport default SidebarButton;","import {faCompactDisc, faSearch} from \"@fortawesome/free-solid-svg-icons\";\n\nconst icons = {\n    \"search\": faSearch,\n    \"library\": faCompactDisc\n}\n\n\nexport default icons;","import React from \"react\";\nimport SidebarButton from \"./subcomponents/SidebarButton\";\nimport icons from \"../../icons/icons\";\nimport \"./styles/Sidebar.scss\";\nimport {useLocation} from \"react-router-dom\";\n\nfunction Sidebar() {\n    let location = useLocation();\n    return <nav id=\"sidebar\">\n        <SidebarButton active={location.pathname === \"/\"} icon={icons.library} to={\"/\"}>Library</SidebarButton>\n        <SidebarButton active={location.pathname === \"/search\"} icon={icons.search} to={\"/search\"}>Search</SidebarButton>\n    </nav>;\n}\n\nexport default Sidebar;","import \"./styles/Header.scss\";\n\nfunction Header() {\n    return <header />;\n}\n\nexport default Header;","const BACKEND_URL = \"\";\n\nexport {\n    BACKEND_URL\n};\n","import React, {useCallback, useEffect, useState} from \"react\";\nimport \"./../styles/Search.scss\";\nimport debounce from \"../libs/debounce\";\nimport axios from \"axios\";\nimport {BACKEND_URL} from \"../libs/config\";\nimport {\n    faCheck,\n    faDownload,\n    faExclamationTriangle,\n    faPlay,\n    faSpinner,\n    faUserClock\n} from \"@fortawesome/free-solid-svg-icons\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faYoutube} from \"@fortawesome/free-brands-svg-icons\";\nconst ytRegex = /^(?:https:\\/\\/)?(?:www\\.)?youtube\\.com\\/watch\\?v=([A-z0-9\\-_]{11})(?:&.*)?|(?:https:\\/\\/)?youtu.be\\/([A-z0-9\\-_]{11})$/;\n\nexport default function Search(props) {\n    let [query, setQuery] = useState(\"\");\n    let [results, setResults] = useState([]);\n    let [showDialog, setShowDialog] = useState(false);\n    let [youtubeSearch, setYoutubeSearch] = useState(\"\");\n    let [ytSearchResults, setYtSearchResults] = useState([]);\n    let [status, setStatus] = useState(null);\n    // Debouncer\n    const debouncedOnChange = useCallback(debounce(doSearch, 300), []);\n\n    async function doSearch(q) {\n        if (q !== \"\" || props.bar !== true) {\n            let random = \"\";\n            if (props.bar !== true) random = \"true\";\n            try {\n                const response =  await axios.get(BACKEND_URL + \"/search/query\", {params: {q, random}});\n                if (response.data.hasOwnProperty(\"error\")) {\n                    setResults([]);\n                } else {\n                    setResults(response.data);\n                }\n            } catch (e) {\n                console.error(\"Failed to search!\");\n            }\n        } else {\n            if (props.bar) setResults([]);\n        }\n    }\n\n    const doYoutubeSearch = async () => {\n        const matches = youtubeSearch.match(ytRegex);\n        if (matches !== null) {\n            const url = matches[1] || matches[2];\n\n            const toFetchFrom = BACKEND_URL + \"/yt/download/\" + url;\n\n            let ci = setInterval(async () => {\n                let symbol = faSpinner;\n                let statusText = \"Loading...\";\n                let spin = true;\n\n                let state;\n                try {state = await axios.get(toFetchFrom);} catch (e) {}\n\n                if (state.data.status === \"error\") {\n                    symbol = faExclamationTriangle;\n                    statusText = \"An error occurred: \" + state.data.error;\n                    spin = false;\n                    clearInterval(ci);\n                } else if (state.data.status === \"queued\") {\n                    symbol = faUserClock;\n                    statusText = \"Queued. Position: \" + state.data.position;\n                    spin = false;\n                } else if (state.data.status === \"processing\") {\n                    symbol = faSpinner;\n                    statusText = \"Processing\";\n                    spin = true;\n                } else if (state.data.status === \"completed\") {\n                    symbol = faCheck;\n                    statusText = \"Complete\";\n                    spin = false;\n                    clearInterval(ci);\n                    // Reload\n                    setTimeout(async () => {\n                        await doSearch(query);\n                    }, 1000);\n                }\n\n                setStatus(<div className={\"status\"}>\n                    <FontAwesomeIcon icon={symbol} spin={spin} />\n                    <p>{statusText}</p>\n                </div>);\n            }, 1000);\n        } else {\n            // search\n            if (youtubeSearch !== \"\") {\n                let response;\n                try {\n                    response = await axios.get(BACKEND_URL + \"/search/yt\", {params: {q: youtubeSearch}});\n                } catch (e) {}\n\n                if (!response.data.error) {\n                    if (response.data.results) {\n                        console.log(response.data.results);\n                        setYtSearchResults(response.data.results);\n                    }\n                }\n            }\n        }\n    };\n\n\n    // Update between home and search pages\n    useEffect(() => doSearch(query), [props.bar]);\n\n    // Run debouncer\n    useEffect(() => {debouncedOnChange(query);}, [query, debouncedOnChange]);\n\n    return <div className={\"panel\"}>\n        {(props.bar === true) ?  <input className=\"searchBox\" value={query} onChange={e => setQuery(e.target.value)} /> : null}\n\n        <div className={\"results\"}>\n            {results.map(song => <div onClick={() => props.setPlaying(song)} className={\"song\"} key={song._id}>\n                <div className={\"song-icon\"} style={{backgroundImage: \"url(\" + BACKEND_URL + song.iconUrl + \")\"}}>\n                    <div className={\"song-icon-play\"}><FontAwesomeIcon icon={faPlay} /></div>\n                </div>\n                <div className={\"song-title\"}>{song.title}</div>\n                <div className={\"song-artists\"}>{song.all_artists.replace(/,/g, \", \")}</div>\n            </div>)}\n            <div className={\"song\"} onClick={() => {setShowDialog(!showDialog); setYoutubeSearch(\"\"); setStatus(null); setYtSearchResults([]);}}>\n                <div className={\"song-icon youtube\"} >\n                    <FontAwesomeIcon icon={faYoutube} />\n                </div>\n                <div className={\"song-title\"}>YouTube</div>\n                <div className={\"song-artists\"}>Get more songs from youtube!</div>\n            </div>\n            {showDialog ? <div className={\"dialog-background\"}>\n                <div className={\"dialog\"}>\n                    <button className={\"close\"} onClick={() => setShowDialog(false)}>&times;</button>\n                    <p className={\"title\"}>Get From Youtube!</p>\n                    <p className={\"subtitle\"}>Enter a URL to a video or a search query.</p>\n                    <input className={\"yt-link\"} value={youtubeSearch} onChange={e => setYoutubeSearch(e.target.value)} />\n                    <button className={\"yt-search\"} onClick={doYoutubeSearch}>Search</button>\n                    {status}\n                    <div className={\"search-results\"}>\n                        {ytSearchResults.map(video => <div onClick={async () => {setYoutubeSearch(\"https://youtu.be/\" + video.id); youtubeSearch = \"https://youtu.be/\" + video.id; await doYoutubeSearch();}} key={video.id} className={\"search-result\"}>\n                            <div className={\"search-results-icon\"} style={{backgroundImage: \"url(\" + video.thumbnails.high.url + \")\"}}>\n                                <div className={\"search-results-icon-play\"}><FontAwesomeIcon icon={faDownload} /></div>\n                            </div>\n                            <div className={\"search-results-title\"}>{video.title}</div>\n                            <div className={\"search-results-artists\"}>{video.channelTitle}</div>\n                        </div>)}\n                    </div>\n                </div>\n            </div> : null}\n        </div>\n    </div>;\n}\n\nexport function Homepage(props) {\n    let p = {...props}\n    p.bar = false;\n    return <Search bar {...props} />;\n}","export default function debounce(func, wait, immediate) {\n    var timeout;\n    return function() {\n        var context = this, args = arguments;\n        var later = function() {\n            timeout = null;\n            if (!immediate) func.apply(context, args);\n        };\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) func.apply(context, args);\n    };\n};","import \"./styles/Player.scss\";\nimport {BACKEND_URL} from \"../../libs/config\";\nimport ReactAudioPlayer from \"react-audio-player\";\nimport React, {useEffect, useState} from \"react\";\nimport {faPause, faPlay, faRandom, faRedoAlt, faStepBackward, faStepForward} from \"@fortawesome/free-solid-svg-icons\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport axios from \"axios\";\n\nasync function getRandom() {\n    try {\n        const response = await axios.get(BACKEND_URL + \"/search/query\", {params: {random: \"true\"}});\n        if (response.data.hasOwnProperty(\"error\")) {\n            return [];\n        } else {\n            return response.data;\n        }\n    } catch (e) {\n        return [];\n    }\n}\n\nexport default function Player(props) {\n    let [length, setLength] = useState(0);\n    let [position, setPosition] = useState(0);\n    let [playing, setPlaying] = useState(false);\n    let [loop, setLoop] = useState(false);\n    let [shuffle, setShuffle] = useState(true);\n    let [random, setRandom] = useState([]);\n    let rap = false;\n\n    const getShuffle = async () => setRandom(await getRandom());\n\n    useEffect(() => {\n        // noinspection JSIgnoredPromiseFromCall\n        getShuffle();\n    }, []);\n\n    const onLoadedMetadata = (e) => setLength(e.target.duration);\n    const onListen = (e) => setPosition(e);\n    const onSeeked = (e) => setPosition(e.target.currentTime);\n    const onEnd = () => {\n        setPlaying(false);\n        if (!loop && shuffle) {\n            next();\n        }\n    };\n    const next = () => {\n        if (random.length !== 0) {\n            props.setPlaying(random[Math.floor(Math.random() * random.length)]);\n        }\n    }\n\n    // Update Media Overlay\n    useEffect(() => {\n        if (props.playing !== false) {\n\t    try {\n            document.title = props.playing.title + \" | Amuseing\";\n            navigator.mediaSession.metadata = new window.MediaMetadata({\n                title: props.playing.title,\n                artist: props.playing.all_artists.split(\",\").join(\", \"),\n                artwork: [{src: BACKEND_URL + props.playing.iconUrl}]\n            });\n            } catch (ignored) {}\n        }\n    }, [props.playing]);\n\n    try {navigator.mediaSession.setActionHandler(\"nexttrack\", next);} catch (ignored) {}\n\n    const onError = () => setPlaying(false);\n    const onPlay = () => setPlaying(true);\n    const onPause = () => setPlaying(false);\n\n    const togglePlaying = () => {\n        if (rap.audioEl.current.paused) {\n            rap.audioEl.current.play();\n        } else {\n            rap.audioEl.current.pause();\n        }\n    }\n\n    const toggleLoop = () => setLoop(!loop);\n    const toggleShuffle = () => setShuffle(!shuffle);\n\n    useEffect(() => {\n        setLength(0);\n        setPosition(0);\n    }, [props.playing]);\n\n    const getTime = (seconds) => {\n        seconds = Math.floor(seconds);\n        let secondsActual = seconds % 60;\n        let minutes = (seconds - secondsActual) / 60;\n        return minutes.toFixed(0) + \":\" + secondsActual.toFixed(0).padStart(2, \"0\");\n    }\n\n\n    if (props.playing) {\n        return <div className=\"player\">\n            <div className=\"track-info\">\n                <div className={\"track-icon\"} style={{backgroundImage: \"url(\" + BACKEND_URL + props.playing.iconUrl + \")\"}} />\n                <div className={\"track-title\"}>{props.playing.title}</div>\n                <div className={\"track-artists\"}>{props.playing.all_artists.replace(/,/g, \", \")}</div>\n            </div>\n\n            <ReactAudioPlayer src={BACKEND_URL + props.playing.audioUrl} ref={e => rap = e} autoPlay loop={loop} listenInterval={1000} onListen={onListen} onSeeked={onSeeked} onLoadedMetadata={onLoadedMetadata} onPause={onPause} onPlay={onPlay} onError={onError} onEnded={onEnd} />\n            <div className=\"controls\">\n                <div className=\"shuffle\" onClick={toggleShuffle}>\n                    <FontAwesomeIcon icon={faRandom} className={shuffle ? \"icon-enabled\" : \"\"} />\n                </div>\n                <div className={\"skip back\" + (props.canSkipBackward() ? \"\" : \" disabled\")} onClick={props.skipBackward}>\n                    <FontAwesomeIcon icon={faStepBackward} className={shuffle ? \"icon-enabled\" : \"\"} />\n                </div>\n                <div className=\"playPause\" onClick={togglePlaying}>\n                    {playing ? <FontAwesomeIcon icon={faPause} /> : <FontAwesomeIcon icon={faPlay} />}\n                </div>\n                <div className=\"skip\" onClick={next}>\n                    <FontAwesomeIcon icon={faStepForward} className={shuffle ? \"icon-enabled\" : \"\"} />\n                </div>\n                <div className=\"repeat\" onClick={toggleLoop}>\n                    <FontAwesomeIcon icon={faRedoAlt} className={loop ? \"icon-enabled\" : \"\"} />\n                </div>\n            </div>\n            <div className=\"trackInfoProgress\">\n                <p>{getTime(position)}</p>\n                <div className=\"progressBar\">\n                    <div className=\"progressBar-progress\" style={{width: length === 0 ? 0 : (position/length * 100).toFixed(2) + \"%\"}} />\n                </div>\n                <p>{getTime(length)}</p>\n            </div>\n        </div>;\n    } else return <div className=\"player\" />;\n}\n","import \"./styles/Global.scss\";\nimport Sidebar from \"./components/sidebar/Sidebar\";\nimport \"typeface-roboto\";\nimport Header from \"./components/header/Header\";\nimport {BrowserRouter, Route, Switch} from \"react-router-dom\";\nimport Search from \"./pages/Search\";\nimport Player from \"./components/player/Player\";\nimport {useState} from \"react\";\n\nfunction App() {\n    let [playingHistory, setPlayingHistory] = useState([]);\n    let [playing, setPlayingState] = useState(false);\n\n    const setPlaying = (song) => {\n        if (playing !== false) setPlayingHistory([...playingHistory,playing]);\n        setPlayingState(song);\n    }\n\n    const skipBackward = () => {\n        if (canSkipBackward()) {\n            setPlayingState(playingHistory.pop());\n        }\n    }\n\n    try{navigator.mediaSession.setActionHandler(\"previoustrack\", skipBackward);}catch(ignored){}\n\n    const canSkipBackward = () => playingHistory.length > 0;\n\n    return <main>\n        <BrowserRouter>\n            <Header />\n            <Sidebar />\n\n            <Switch>\n                <Route path=\"/search\">\n                    <Search bar setPlaying={setPlaying} />\n                </Route>\n\n                <Route path=\"/\">\n                    <Search setPlaying={setPlaying} />\n                </Route>\n            </Switch>\n\n            <Player playing={playing} setPlaying={setPlaying} skipBackward={skipBackward} canSkipBackward={canSkipBackward}  />\n        </BrowserRouter>\n    </main>;\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport \"./styles/minireset.css\";\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}